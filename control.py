import os


def main():

    alive = open("node_list.txt","w+")
    server_array = []
    server_array = [
        "10.144.22.51",
        "10.144.22.52",
        "10.144.22.53",
        "10.144.22.63",
        "10.144.22.54",
        "10.144.22.55",
        "10.144.22.56",
        "10.144.22.57",
        "10.144.22.80",
        "10.144.22.58",
        "10.144.22.59",
        "10.144.22.84",
        "10.144.22.64",
        "10.144.22.85",
        "10.144.22.65",
        "10.144.22.67",
        "10.144.22.68",
        "10.144.22.83",
        "10.144.22.73",
        "10.144.22.70",
        "10.144.22.71",
        "10.144.22.75",
        "10.144.22.77",
        "10.144.22.72",
        "10.144.22.74",
        "10.144.22.76",
        "10.144.22.78",
        "10.144.22.81",
        "10.144.22.79"
    ]
    server_dictionary = {
        '10.144.22.81': 'Master',
        '10.144.22.51': 'PC01',
        '10.144.22.52': 'PC02',
        '10.144.22.53': 'PC03',
        '10.144.22.63': 'PC04',
        '10.144.22.54': 'PC05',
        '10.144.22.55': 'PC06',
        '10.144.22.56': 'PC07',
        '10.144.22.57': 'PC08',
        '10.144.22.80': 'PC09',
        '10.144.22.58': 'PC10',
        '10.144.22.59': 'PC11',
        '10.144.22.84': 'PC12',
        '10.144.22.64': 'PC13',
        '10.144.22.85': 'PC14',
        '10.144.22.65': 'PC15',
        '10.144.22.67': 'PC17',
        '10.144.22.68': 'PC18',
        '10.144.22.83': 'PC19',
        '10.144.22.73': 'PC21',
        '10.144.22.70': 'PC22',
        '10.144.22.71': 'PC23',
        '10.144.22.75': 'PC24',
        '10.144.22.77': 'PC25',
        '10.144.22.72': 'PC27',
        '10.144.22.74': 'PC28',
        '10.144.22.76': 'PC29',
        '10.144.22.78': 'PC30',
        '10.144.22.79': 'PC32',
                         };
    #print server_dictionary[server_array[0]]
    #response 0 is online, else is offline

    for server in server_array:
        response = os.system("ping -c 3 " + server)
        if not response:
            alive.write(server+"\t"+server_dictionary[server]+"\n")
        else:
            alive.write("#"+server+"\t"+server_dictionary[server]+"\n")

    alive.close()

if __name__ == '__main__':
    main()